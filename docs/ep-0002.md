---
title: 'bldr Command'
description: 'Overview of the bldr Command'
---

# bldr

The `bldr` command has the following sub commands:
- `init`
    - Initialize the current directory with a skeleton `.bldr` folder
- `gen.add` 
    - Add a generator to the current project.  Does not apply it until `gen.up` is run
    - Stored in `generator.toml`
- `gen.up` 
    - Update the current project with the generators listed in `.bldr/generator.toml`
- `gen.rm`
    - Remove a previously added generator from the project.  Does not apply until `gen.up` is run
- `dep.add`
    - Add a dependency to the current project.  Does not apply until `dep.get` is run
- `dep.get`
    - get deps listed in `dependency.toml`
- `dep.up`
    - Update deps listed in `dependency.toml`
- `dep.rm`
    - Remove a previously added template from the project.  Does not apply until `dep.up` is run
- `dev.add`
    - Add a device to update when `dev.up` is run
- `dev.up`
    - Update the device over the network
    - Does not do a build 
- `dev.bld` 
    - Do the device build
- `dev.burn`
    - Write the device image to an SD card
- `sim.bld`
    - Build the Desktop Simulator
- `sim.run`
    - Run the Desktop Simulator 

# gen.add <generator_name> <url> <branch>

Add a new generator.  It will be stored in `~/.bldr/generator/<generator_name>`.  Currently only `git` is supported

`<url>` can be ommited if it is already exists in `~/.bldr/generator`
`<branch>` defaults to `master`

Saved in `dependency.toml`

# gen.up

Update the templates and apply them to the current project.

Actually a series of sub commands with individual pre/post hooks
    - Each subcommand will honor `.pre` or `.post` hooks in `~/.bldr/cmd` and `.bldr/cmd`

* `gen.up.gen` 
    - Walk each generator in `dependency.toml`
        - Run `gen.to` to parent `.bldr/template`
    - Render `.bldr/template` to `.bldr/next`
    - Render `.bldr/local` to `.bldr/next`
    - Render inline templates to `.bldr/next`
* `gen.up.diff` 
    - diff `.bldr/current` with `.bldr/next` and apply patch
* `gen.up.complete` 
    Save `~/.bldr/current.toml.next` to `~/.bldr/current.toml`

# dep.get

* `dep.get` Walk each dependency in `dependency.toml`
    - Peform a `git fetch` or `git clone` in target dir
    - Reset Branch to SHA in `dependency.lock.toml`

# dep.up

* `dep.up` Walk each dependency in `dependency.toml`
    - peform a `git fetch`
    - Check for `dependency.lock.toml`
        - run `dep.up` recursively
    - Save Branch SHA to `dependency.lock.toml`

# Script backend

Individual Scripts live in `~/.bldr/cmd` and can be overriden in `.bldr/cmd` 
